# Знакомство с рекурсией
Наверняка когда вы слышите слово "рекурсия" у вас всплывает в голове нечто такое:

![](img/l_3/1.png)

Нечто до бесконечности вложенное само в себя. И это равнозначно итерации с которой вы уже должны быть
знакомы. По аналогии со скриншотом выше итерирование я бы представил зацикленной [гифкой](https://vk.com/doc548038631_625822950).
Давайте теперь посмотрим как это выглядит в коде:

```python
# python - итерирование
i = 0
while True:
    print(i)
    i += 1
```
```rust
// rust - итерирование
let mut i = 0;
loop {
    println("{}", i);
    i += 1;
}
```

Подобное поведение можно представить и через рекурсивные функции, т.е. функции определяемые через
самих себя:

```python
# python - рекурсия
# не запускайте
i = 0
def infInc():
    global i
    print(i)
    i += 1
    infInc()
infInc()
```

```rust
// rust
struct Env { i: i32 }
let i = &mut Env{i: 0}; 
fn inf_inc(env: &mut Env) {
    println!("{}", env.i);
    env.i += 1;
    inf_inc(env);
}
inf_inc(i);
```

Этот код выполняет ровно ту же самую работу, что и примеры с циклами выше. Только здесь пришлось использовать структуры и 
ссылки. Дальше вы ничего не поймете пока не прочтете [это](https://doc.rust-lang.ru/book/ch04-00-understanding-ownership.html)
и [это](https://doc.rust-lang.ru/book/ch05-00-structs.html). Вообще очень рекомендую полистать эту книгу, я не все моменты
касательно Rust'а буду здесь освещать. Возвращаюсь к коду выше - вместо итераций цикла
мы имеем вызов функции. Все эти примеры будут выполняться бесконечно (на что намекает название функций),
что зачастую бесполезно (если конечно вы не пишите сервера, GUI-фреймворк, игровой движок или что-то в этом духе),
поэтому и цикл, и рекурсию можно прервать. Давайте разберем наиболее частые примеры использования
циклов с эквивалентными примерами переписанными через рекурсию:

```python
# python - обход коллекции с помощью цикла
list = [1, 2, 3]
for i in list:
    print(i)
```
```racket
; racket - обход коллекции с помощью цикла
(define list '(1 2 3))
(for ([i list])
  (displayln i))
```
```python
# python - обход коллекции с помощью рекурсии
def printList(list):
    if list == []:
        return
    print(list[0])
    printList(list[1:])
printList([1, 2, 3])
```
```racket
; racket - обход коллекции с помощью рекурсии
(define list '(1 2 3))
(define (print-list list)
  (if (empty? list)
      '()
      (begin
        (displayln (car list))
        (print-list (cdr list)))))
(print-list list)
```
